# include the CorePrint & Rails::Generator::Commands overrides
require File.expand_path(File.dirname(__FILE__) + "/../lib/rails_generator/commands.rb")

class <%= @tm_generator_class_name %> < Rails::Generator::Base
    
  #
  def version
    'v0.1'
  end

  def manifest
    record do |m|
    
      # add code here
    
    end
  end

  # adds the name of the current rails directory to the m.template files
  def rails_project_dir
    rpd ||= File.basename(`pwd`).chomp
  end
  
  # adds the name of the current rails directory to the m.template files
  def rails_project_path
    rpp ||= `pwd`.chomp
  end
  
  # adds the humanized name of the rails project directory
  def rails_project_name
    # replace any "2_0" with "2.0"
    rpn ||= rails_project_dir.sub(/(\d)(_)(\d)/,'\1.\3').humanize
  end
  
  # adds the name of the current generator to the m.template files
  def generator_name
    File.basename(__FILE__,".rb").sub(/_generator/,'').chomp
  end
  
  def generator_ref_str
    "# generated by CoreGenerators :: #{generator_name} generator | #{version} | (#{Time.now.strftime('%Y-%d-%m')})"
  end
  
end